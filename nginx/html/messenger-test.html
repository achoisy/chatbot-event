<html>
<head>
    <title>Show Messenger is Supported</title>
</head>
<body>

Messenger Extension is Supported: <span id="isSupported"></span>
User PSID: <span id="userpsid"></span>

<script>
  (function (d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) {
      return;
    }
    js = d.createElement(s);
    js.id = id;
    js.src = "//connect.facebook.com/fr_FR/messenger.Extensions.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'Messenger'));
  window.extAsyncInit = function () {
    var isSupported = MessengerExtensions.isInExtension();
    document.getElementById('isSupported').innerText = isSupported;
    MessengerExtensions.getUserID(function success(uids) {
      var psid = uids.psid;
      document.getElementById('userpsid').innerText = psid;
    }, function error(err) {
      document.getElementById('userpsid').innerText = err;
    });
  };
</script>
</body>
</html>
